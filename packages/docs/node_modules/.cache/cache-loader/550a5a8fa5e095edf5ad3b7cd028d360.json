{"remainingRequest":"/home/barbosa/javascript/useform/packages/docs/node_modules/babel-loader/lib/index.js??ref--7-1!/home/barbosa/javascript/useform/packages/useform/src/core/observable.ts","dependencies":[{"path":"/home/barbosa/javascript/useform/packages/useform/src/core/observable.ts","mtime":1603637821148},{"path":"/home/barbosa/javascript/useform/node_modules/cache-loader/dist/cjs.js","mtime":1603638032289},{"path":"/home/barbosa/javascript/useform/packages/docs/node_modules/babel-loader/lib/index.js","mtime":1603638031594}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVN0YXRlKGluaXRpYWxTdGF0ZT1PYmplY3QuYXNzaWduKHt9KSl7bGV0IHN0YXRlPWluaXRpYWxTdGF0ZTtsZXQgc3Vic2NyaWJlcnM9W107ZnVuY3Rpb24gZ2V0U3RhdGUoKXtyZXR1cm4gc3RhdGU7fWZ1bmN0aW9uIHN1YnNjcmliZShmbil7c3Vic2NyaWJlcnM9Wy4uLnN1YnNjcmliZXJzLGZuXTtyZXR1cm4oKT0+e3N1YnNjcmliZXJzPXN1YnNjcmliZXJzLmZpbHRlcihsPT5sIT09Zm4pO307fTtmdW5jdGlvbiBzZXRTdGF0ZShuZXh0KXtjb25zdCBuZXh0U3RhdGU9dHlwZW9mIG5leHQ9PT0nZnVuY3Rpb24nP25leHQoZ2V0U3RhdGUoKSk6bmV4dDtzdGF0ZT17Li4uc3RhdGUsLi4ubmV4dFN0YXRlfTtub3RpZnkoKTt9ZnVuY3Rpb24gbm90aWZ5KCl7c3Vic2NyaWJlcnMuZm9yRWFjaChmbj0+e2ZuKGdldFN0YXRlKCkpO30pO31yZXR1cm57Z2V0U3RhdGUsc2V0U3RhdGUsc3Vic2NyaWJlfTt9Ow=="},{"version":3,"sources":["/home/barbosa/javascript/useform/packages/useform/src/core/observable.ts"],"names":["createState","initialState","Object","assign","state","subscribers","getState","subscribe","fn","filter","l","setState","next","nextState","notify","forEach"],"mappings":"AAKA,MAAO,SAASA,CAAAA,WAAT,CAAuCC,YAAe,CAAGC,MAAM,CAACC,MAAP,CAAc,EAAd,CAAzD,CAA4E,CAChF,GAAIC,CAAAA,KAAK,CAAGH,YAAZ,CACA,GAAII,CAAAA,WAA2B,CAAG,EAAlC,CAEA,QAASC,CAAAA,QAAT,EAAoB,CACjB,MAAOF,CAAAA,KAAP,CACF,CAED,QAASG,CAAAA,SAAT,CAAmBC,EAAnB,CAAqC,CAClCH,WAAW,CAAG,CAAC,GAAGA,WAAJ,CAAiBG,EAAjB,CAAd,CAEA,MAAO,IAAM,CACVH,WAAW,CAAGA,WAAW,CAACI,MAAZ,CAAoBC,CAAD,EAAOA,CAAC,GAAKF,EAAhC,CAAd,CACF,CAFD,CAGF,EAED,QAASG,CAAAA,QAAT,CAAkBC,IAAlB,CAAwD,CACrD,KAAMC,CAAAA,SAAS,CAAG,MAAOD,CAAAA,IAAP,GAAgB,UAAhB,CAA6BA,IAAI,CAACN,QAAQ,EAAT,CAAjC,CAAgDM,IAAlE,CACAR,KAAK,CAAG,CACL,GAAGA,KADE,CAEL,GAAGS,SAFE,CAAR,CAIAC,MAAM,GACR,CAED,QAASA,CAAAA,MAAT,EAAkB,CACfT,WAAW,CAACU,OAAZ,CAAqBP,EAAD,EAAQ,CACzBA,EAAE,CAACF,QAAQ,EAAT,CAAF,CACF,CAFD,EAGF,CAED,MAAO,CACJA,QADI,CAEJK,QAFI,CAGJJ,SAHI,CAAP,CAKF","sourcesContent":["\ntype Subscribe<TValues> = (e: TValues) => void\ntype Subscribers<TValues = {}> = Array<Subscribe<TValues>>\n\n\nexport function createState<T extends object>(initialState: T = Object.assign({})) {\n   let state = initialState;\n   let subscribers: Subscribers<T> = [];\n\n   function getState() {\n      return state;\n   }\n\n   function subscribe(fn: Subscribe<T>) {\n      subscribers = [...subscribers, fn];\n\n      return () => {\n         subscribers = subscribers.filter((l) => l !== fn);\n      };\n   };\n\n   function setState(next: Partial<T> | ((state: T) => T)) {\n      const nextState = typeof next === 'function' ? next(getState()) : next\n      state = {\n         ...state,\n         ...nextState\n      };\n      notify()\n   }\n\n   function notify() {\n      subscribers.forEach((fn) => {\n         fn(getState());\n      });\n   }\n\n   return {\n      getState,\n      setState,\n      subscribe,\n   };\n};"]}]}
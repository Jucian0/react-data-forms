{"remainingRequest":"/home/barbosa/javascript/useform/packages/docs/node_modules/babel-loader/lib/index.js??ref--7-1!/home/barbosa/javascript/useform/packages/useform/src/hooks/useForm.ts","dependencies":[{"path":"/home/barbosa/javascript/useform/packages/useform/src/hooks/useForm.ts","mtime":1603655788774},{"path":"/home/barbosa/javascript/useform/node_modules/cache-loader/dist/cjs.js","mtime":1603638032289},{"path":"/home/barbosa/javascript/useform/packages/docs/node_modules/babel-loader/lib/index.js","mtime":1603638031594}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFJlYWN0IGZyb20icmVhY3QiO2ltcG9ydCBkb3QgZnJvbSdkb3QtcHJvcC1pbW11dGFibGUnO2ltcG9ydHtkZWJvdW5jZSxtYWtlRG90Tm90YXRpb259ZnJvbSIuLi91dGlscyI7aW1wb3J0e2NyZWF0ZVN0YXRlfWZyb20iLi4vY29yZS9vYnNlcnZhYmxlIjtleHBvcnQgZnVuY3Rpb24gdXNlRm9ybSh7aW5pdGlhbEVycm9ycz17fSxpbml0aWFsVmFsdWVzPXt9LGluaXRpYWxUb3VjaGVkPXt9LC4uLm9wdGlvbnN9KXtjb25zdCByZWZzPVJlYWN0LnVzZVJlZih7fSk7Y29uc3R7Y3VycmVudDpzdGF0ZSR9PVJlYWN0LnVzZVJlZihjcmVhdGVTdGF0ZSh7dmFsdWVzOmluaXRpYWxWYWx1ZXMsZXJyb3JzOmluaXRpYWxFcnJvcnMsdG91Y2hlZDppbml0aWFsVG91Y2hlZH0pKTtjb25zdFtzdGF0ZSxzZXRTdGF0ZV09UmVhY3QudXNlU3RhdGUoe30pO2NvbnN0IHNldFZhbHVlRGVib3VuY2U9UmVhY3QudXNlQ2FsbGJhY2soZGVib3VuY2Uoc2V0U3RhdGUsb3B0aW9ucy5kZWJvdW5jZWR8fDMwMCksW10pO2Z1bmN0aW9uIGlzQ29udHJvbGxlZE9yRGVib3VuY2UoKXtyZXR1cm4gb3B0aW9ucy5pc0NvbnRyb2xsZWR8fCEhb3B0aW9ucy5kZWJvdW5jZWQ7fWZ1bmN0aW9uIHJlZ2lzdGVyKHBhdGgpe2NvbnN0IG5ld1JlZnM9ey4uLnJlZnMuY3VycmVudCxbcGF0aF06LyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZVJlZigpfTtyZWZzLmN1cnJlbnQ9bmV3UmVmcztyZXR1cm57bmFtZTpwYXRoLHJlZjpyZWZzLmN1cnJlbnRbcGF0aF19O31mdW5jdGlvbiBoYW5kbGVFdmVudChldmVudCl7aWYoZXZlbnQ9PT0naW5wdXQnKXtyZXR1cm4gYXN5bmMgZT0+e3JldHVybiBzdGF0ZSQuc2V0U3RhdGUoc3RhdGU9Pih7Li4uc3RhdGUsdmFsdWVzOmRvdC5zZXQoc3RhdGUudmFsdWVzLGUudGFyZ2V0Lm5hbWUsZS50YXJnZXQudmFsdWUpfSkpO307fXJldHVybiBlPT57cmV0dXJuIHN0YXRlJC5zZXRTdGF0ZShzdGF0ZT0+KHsuLi5zdGF0ZSx0b3VjaGVkOmRvdC5zZXQoc3RhdGUsZS50YXJnZXQubmFtZSx0cnVlKX0pKTt9O31mdW5jdGlvbiBhZGRFdmVudHMoLi4uYXJncyl7T2JqZWN0LmtleXMocmVmcy5jdXJyZW50KS5mb3JFYWNoKHBhdGg9PnthcmdzLmZvckVhY2goZXZlbnQ9PnJlZnMuY3VycmVudFtwYXRoXS5jdXJyZW50LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsaGFuZGxlRXZlbnQoZXZlbnQpKSk7fSk7fWZ1bmN0aW9uIHJlbW92ZUV2ZW50cyguLi5hcmdzKXtPYmplY3Qua2V5cyhyZWZzLmN1cnJlbnQpLmZvckVhY2gocGF0aD0+e2FyZ3MuZm9yRWFjaChldmVudD0+cmVmcy5jdXJyZW50W3BhdGhdLmN1cnJlbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCxoYW5kbGVFdmVudChldmVudCkpKTt9KTt9ZnVuY3Rpb24gc2V0UmVmVmFsdWUocGF0aCx2YWx1ZSl7cmVmcy5jdXJyZW50W3BhdGhdLmN1cnJlbnQudmFsdWU9dmFsdWV8fG51bGw7fWZ1bmN0aW9uIG1ha2VSZXNldEFsbFRvdWNoZWRQYXlsb2FkKCl7cmV0dXJuIE9iamVjdC5rZXlzKHJlZnMuY3VycmVudCkucmVkdWNlKChhY2MscGF0aCk9PntyZXR1cm4gZG90LnNldChhY2MscGF0aCxkb3QuZ2V0KGluaXRpYWxUb3VjaGVkfHx7fSxwYXRoKXx8ZmFsc2UpO30se30pO31mdW5jdGlvbiBtYWtlQWxsVG91Y2hlZFBheWxvYWQoKXtyZXR1cm4gT2JqZWN0LmtleXMocmVmcy5jdXJyZW50KS5yZWR1Y2UoKGFjYyxwYXRoKT0+e3JldHVybiBkb3Quc2V0KGFjYyxwYXRoLHRydWUpO30se30pO31mdW5jdGlvbiBtYWtlRm9ybVBheWxvYWQoKXtyZXR1cm4gT2JqZWN0LmtleXMocmVmcy5jdXJyZW50KS5yZWR1Y2UoKGFjYyxwYXRoKT0+e3JldHVybiBkb3Quc2V0KGFjYyxwYXRoLHJlZnMuY3VycmVudFtwYXRoXS5jdXJyZW50LnZhbHVlKTt9LHt9KTt9ZnVuY3Rpb24gb25TdWJtaXQoZm4pe3JldHVybiBhc3luYyBlPT57ZS5wcmV2ZW50RGVmYXVsdCgpO2NvbnN0IHZhbHVlcz1tYWtlRm9ybVBheWxvYWQoKTt0cnl7YXdhaXQgdmFsaWRhdGUodmFsdWVzKTtmbih2YWx1ZXMsdHJ1ZSk7fWNhdGNoKGVycm9ycyl7Zm4odmFsdWVzLGZhbHNlKTtzdGF0ZSQuc2V0U3RhdGUoc3RhdGU9Pih7Li4uc3RhdGUsZXJyb3JzLHRvdWNoZWQ6bWFrZUFsbFRvdWNoZWRQYXlsb2FkKCl9KSk7aWYoIWlzQ29udHJvbGxlZE9yRGVib3VuY2UoKSl7c2V0U3RhdGUoc3RhdGU9Pih7Li4uc3RhdGUsZXJyb3JzLHZhbHVlcyx0b3VjaGVkOm1ha2VBbGxUb3VjaGVkUGF5bG9hZCgpfSkpO319fTt9ZnVuY3Rpb24gdmFsaWRhdGUodmFsdWVzKXt2YXIgX29wdGlvbnMkc2NoZW1hVmFsaWRhO3JldHVybihfb3B0aW9ucyRzY2hlbWFWYWxpZGE9b3B0aW9ucy5zY2hlbWFWYWxpZGF0aW9uKT09PW51bGx8fF9vcHRpb25zJHNjaGVtYVZhbGlkYT09PXZvaWQgMD92b2lkIDA6X29wdGlvbnMkc2NoZW1hVmFsaWRhLnZhbGlkYXRlKHZhbHVlcyx7YWJvcnRFYXJseTpmYWxzZX0pLnRoZW4oZT0+e3JldHVybnt9O30pLmNhdGNoKGU9Pnt0aHJvdyBlLmlubmVyLnJlZHVjZSgoYWNjLGtleSk9Pntjb25zdCBwYXRoPW1ha2VEb3ROb3RhdGlvbihrZXkucGF0aCk7cmV0dXJuIGRvdC5zZXQoYWNjLHBhdGgsa2V5Lm1lc3NhZ2UpO30se30pO30pO31hc3luYyBmdW5jdGlvbiBoYW5kbGVDaGFuZ2UobmV4dCl7dHJ5e2F3YWl0IHZhbGlkYXRlKG5leHQudmFsdWVzKTtpZihvcHRpb25zLmlzQ29udHJvbGxlZCl7c2V0U3RhdGUobmV4dCk7fWVsc2UgaWYob3B0aW9ucy5kZWJvdW5jZWQpe3NldFZhbHVlRGVib3VuY2UobmV4dCk7fX1jYXRjaChlcnJvcnMpe2lmKG9wdGlvbnMuaXNDb250cm9sbGVkKXtzZXRTdGF0ZSh7Li4ubmV4dCxlcnJvcnN9KTt9ZWxzZSBpZihvcHRpb25zLmRlYm91bmNlZCl7c2V0VmFsdWVEZWJvdW5jZSh7Li4ubmV4dCxlcnJvcnN9KTt9fX1SZWFjdC51c2VFZmZlY3QoKCk9Pntjb25zdCBzdWJzY3JpYmVyPXN0YXRlJC5zdWJzY3JpYmUoaGFuZGxlQ2hhbmdlKTtyZXR1cm4oKT0+e3N1YnNjcmliZXIoKTt9O30sW10pO1JlYWN0LnVzZUVmZmVjdCgoKT0+e2lmKGluaXRpYWxWYWx1ZXMpe09iamVjdC5rZXlzKHJlZnMuY3VycmVudCkuZm9yRWFjaChwYXRoPT57c2V0UmVmVmFsdWUocGF0aCxkb3QuZ2V0KGluaXRpYWxWYWx1ZXMscGF0aCkpO30pO31hZGRFdmVudHMoJ2lucHV0JywnYmx1cicpO3JldHVybigpPT57cmVtb3ZlRXZlbnRzKCdpbnB1dCcsJ2JsdXInKTt9O30sW3JlZnNdKTtmdW5jdGlvbiBzZXRGb3JtKG5leHQpe2NvbnN0IG5leHRTdGF0ZT10eXBlb2YgbmV4dD09PSJmdW5jdGlvbiI/bmV4dChzdGF0ZSk6bmV4dDtzdGF0ZSQuc2V0U3RhdGUobmV4dFN0YXRlKTtPYmplY3Qua2V5cyhyZWZzLmN1cnJlbnQpLmZvckVhY2gocGF0aD0+e3NldFJlZlZhbHVlKHBhdGgsZG90LmdldChuZXh0U3RhdGUudmFsdWVzLHBhdGgpfHxkb3QuZ2V0KG5leHRTdGF0ZS52YWx1ZXMscGF0aCkpO30pO31mdW5jdGlvbiByZXNldEZvcm0oKXtPYmplY3Qua2V5cyhyZWZzLmN1cnJlbnQpLmZvckVhY2gocGF0aD0+e3NldFJlZlZhbHVlKHBhdGgsZG90LmdldChpbml0aWFsVmFsdWVzLHBhdGgpfHxudWxsKTt9KTtzdGF0ZSQuc2V0U3RhdGUoe3ZhbHVlczppbml0aWFsVmFsdWVzLGVycm9yczppbml0aWFsRXJyb3JzLHRvdWNoZWQ6aW5pdGlhbFRvdWNoZWR9KTt9ZnVuY3Rpb24gc2V0RmllbGRzVmFsdWUobmV4dCl7Y29uc3QgbmV4dFN0YXRlPXR5cGVvZiBuZXh0PT09ImZ1bmN0aW9uIj9uZXh0KHN0YXRlLnZhbHVlcyk6bmV4dDtzdGF0ZSQuc2V0U3RhdGUoc3RhdGU9Pih7Li4uc3RhdGUsdmFsdWVzOm5leHRTdGF0ZX0pKTtPYmplY3Qua2V5cyhyZWZzLmN1cnJlbnQpLmZvckVhY2gocGF0aD0+e3NldFJlZlZhbHVlKHBhdGgsZG90LmdldChuZXh0U3RhdGUscGF0aCl8fGRvdC5nZXQobmV4dFN0YXRlLHBhdGgpKTt9KTt9ZnVuY3Rpb24gc2V0RmllbGRWYWx1ZShwYXRoLHZhbHVlKXtzdGF0ZSQuc2V0U3RhdGUoc3RhdGU9Pih7Li4uc3RhdGUsdmFsdWVzOmRvdC5zZXQoc3RhdGUudmFsdWVzLHBhdGgsdmFsdWUpfSkpO3NldFJlZlZhbHVlKHBhdGgsdmFsdWUpO31mdW5jdGlvbiByZXNldEZpZWxkc1ZhbHVlKCl7T2JqZWN0LmtleXMocmVmcy5jdXJyZW50KS5mb3JFYWNoKHBhdGg9PntzZXRSZWZWYWx1ZShwYXRoLGRvdC5nZXQoaW5pdGlhbFZhbHVlcyxwYXRoKXx8bnVsbCk7fSk7c3RhdGUkLnNldFN0YXRlKHN0YXRlPT4oey4uLnN0YXRlLHZhbHVlczppbml0aWFsVmFsdWVzfSkpO31mdW5jdGlvbiByZXNldEZpZWxkVmFsdWUocGF0aCl7Y29uc3QgdmFsdWU9ZG90LmdldChpbml0aWFsVmFsdWVzLHBhdGgpfHx1bmRlZmluZWQ7c3RhdGUkLnNldFN0YXRlKHN0YXRlPT4oey4uLnN0YXRlLHZhbHVlczpkb3Quc2V0KHN0YXRlLnZhbHVlcyxwYXRoLHZhbHVlKX0pKTtzZXRSZWZWYWx1ZShwYXRoLHZhbHVlKTt9ZnVuY3Rpb24gc2V0RmllbGRzVG91Y2hlZChuZXh0KXtjb25zdCBuZXh0U3RhdGU9dHlwZW9mIG5leHQ9PT0iZnVuY3Rpb24iP25leHQoc3RhdGUudG91Y2hlZCk6bmV4dDtzdGF0ZSQuc2V0U3RhdGUoc3RhdGU9Pih7Li4uc3RhdGUsdG91Y2hlZDpuZXh0U3RhdGV9KSk7fWZ1bmN0aW9uIHNldEZpZWxkVG91Y2hlZChwYXRoLHZhbHVlPXRydWUpe3N0YXRlJC5zZXRTdGF0ZShzdGF0ZT0+KHsuLi5zdGF0ZSx0b3VjaGVkOmRvdC5zZXQoc3RhdGUudG91Y2hlZCxwYXRoLHZhbHVlKX0pKTt9ZnVuY3Rpb24gcmVzZXRGaWVsZHNUb3VjaGVkKCl7c2V0RmllbGRzVG91Y2hlZChtYWtlUmVzZXRBbGxUb3VjaGVkUGF5bG9hZCgpKTt9ZnVuY3Rpb24gcmVzZXRGaWVsZFRvdWNoZWQocGF0aCl7Y29uc3QgdmFsdWU9ZG90LmdldChpbml0aWFsVG91Y2hlZCxwYXRoKXx8ZmFsc2U7c3RhdGUkLnNldFN0YXRlKHN0YXRlPT4oey4uLnN0YXRlLHRvdWNoZWQ6ZG90LnNldChzdGF0ZS50b3VjaGVkLHBhdGgsdmFsdWUpfSkpO31mdW5jdGlvbiBzZXRGaWVsZHNFcnJvcihuZXh0KXtjb25zdCBuZXh0U3RhdGU9dHlwZW9mIG5leHQ9PT0iZnVuY3Rpb24iP25leHQoc3RhdGUuZXJyb3JzKTpuZXh0O3N0YXRlJC5zZXRTdGF0ZShzdGF0ZT0+KHsuLi5zdGF0ZSxlcnJvcnM6bmV4dFN0YXRlfSkpO31mdW5jdGlvbiBzZXRGaWVsZEVycm9yKHBhdGgsdmFsdWUpe3N0YXRlJC5zZXRTdGF0ZShzdGF0ZT0+KHsuLi5zdGF0ZSxlcnJvcnM6ZG90LnNldChzdGF0ZS5lcnJvcnMscGF0aCx2YWx1ZSl9KSk7fWZ1bmN0aW9uIHJlc2V0RmllbGRzRXJyb3IoKXtzdGF0ZSQuc2V0U3RhdGUoc3RhdGU9Pih7Li4uc3RhdGUsZXJyb3JzOmluaXRpYWxFcnJvcnN9KSk7fWZ1bmN0aW9uIHJlc2V0RmllbGRFcnJvcihwYXRoKXtjb25zdCB2YWx1ZT1kb3QuZ2V0KGluaXRpYWxFcnJvcnMscGF0aCl8fGZhbHNlO3N0YXRlJC5zZXRTdGF0ZShzdGF0ZT0+KHsuLi5zdGF0ZSxlcnJvcnM6ZG90LnNldChzdGF0ZS5lcnJvcnMscGF0aCx2YWx1ZSl9KSk7fXJldHVybntyZWdpc3RlcixzdGF0ZSxvblN1Ym1pdCxzZXRGb3JtLHJlc2V0Rm9ybSxzZXRGaWVsZFZhbHVlLHNldEZpZWxkc1ZhbHVlLHJlc2V0RmllbGRWYWx1ZSxyZXNldEZpZWxkc1ZhbHVlLHNldEZpZWxkc1RvdWNoZWQsc2V0RmllbGRUb3VjaGVkLHJlc2V0RmllbGRzVG91Y2hlZCxyZXNldEZpZWxkVG91Y2hlZCxzZXRGaWVsZEVycm9yLHJlc2V0RmllbGRFcnJvcixyZXNldEZpZWxkc0Vycm9yLHNldEZpZWxkc0Vycm9yfTt9"},{"version":3,"sources":["/home/barbosa/javascript/useform/packages/useform/src/hooks/useForm.ts"],"names":["React","dot","debounce","makeDotNotation","createState","useForm","initialErrors","initialValues","initialTouched","options","refs","useRef","current","state$","values","errors","touched","state","setState","useState","setValueDebounce","useCallback","debounced","isControlledOrDebounce","isControlled","register","path","newRefs","createRef","name","ref","handleEvent","event","e","set","target","value","addEvents","args","Object","keys","forEach","addEventListener","removeEvents","removeEventListener","setRefValue","makeResetAllTouchedPayload","reduce","acc","get","makeAllTouchedPayload","makeFormPayload","onSubmit","fn","preventDefault","validate","schemaValidation","abortEarly","then","catch","inner","key","message","handleChange","next","useEffect","subscriber","subscribe","setForm","nextState","resetForm","setFieldsValue","setFieldValue","resetFieldsValue","resetFieldValue","undefined","setFieldsTouched","setFieldTouched","resetFieldsTouched","resetFieldTouched","setFieldsError","setFieldError","resetFieldsError","resetFieldError"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport dot from 'dot-prop-immutable'\nimport { debounce, makeDotNotation } from \"../utils\";\nimport { ValidationError, Schema as YupSchema, boolean } from \"yup\";\nimport { createState } from \"../core/observable\";\n\n\ntype Ref = {\n   current: HTMLInputElement\n}\n\ntype RegisterReturn = {\n   name: string,\n   ref: Ref\n}\n\ntype Touched<T extends {}> = { [k in keyof T]: T[k] extends number | string | boolean | Date ? boolean : Touched<T[k]> }\ntype Errors<T extends {}> = { [k in keyof T]: T[k] extends number | string | boolean | Date ? string : Touched<T[k]> }\n\nexport type Options<T> = {\n   initialValues?: T,\n   initialErrors?: Errors<T>,\n   initialTouched?: Touched<T>,\n   isControlled?: boolean,\n   debounced?: number,\n   schemaValidation?: YupSchema<T>\n}\n\n\nexport type State<T> = {\n   values?: T,\n   errors?: Errors<T>,\n   touched?: Touched<T>,\n}\n\ntype Register = (path: string) => RegisterReturn\n\ntype Change = React.ChangeEvent<HTMLInputElement>\ntype ChangeState<T> = T | ((state: T) => T)\ntype PathValue<T> = keyof T\nexport type HandleSubmit = (e: React.BaseSyntheticEvent) => Promise<any>\n\nexport type UseFormReturnType<T> = {\n   setForm: (next: ChangeState<State<T>>) => void\n   resetForm: () => void\n\n   setFieldsValue: (next: ChangeState<T>) => void\n   setFieldValue: (path: PathValue<T>, value: any) => void\n   resetFieldsValue: () => void\n   resetFieldValue: (path: PathValue<T>) => void\n   \n   setFieldsTouched: (next: ChangeState<Touched<T>>) => void\n   setFieldTouched: (path: PathValue<T>, value: boolean) => void\n   resetFieldsTouched: () => void\n   resetFieldTouched: (path: PathValue<T>) => void\n\n   setFieldError: (path: PathValue<T>, error: any) => void\n   setFieldsError: (next: ChangeState<Errors<T>>) => void\n   resetFieldError: (path: PathValue<T>) => void\n   resetFieldsError: () => void\n   \n   state: State<T>\n   register: Register,\n   onSubmit: (fn: (values: T, isValid: boolean) => void) => HandleSubmit\n}\n\n\nexport function useForm<TO>({\n   initialErrors = {} as any,\n   initialValues = {} as any,\n   initialTouched = {} as any,\n   ...options }: Options<TO>): UseFormReturnType<TO> {\n\n   const refs = React.useRef<{ current: { [path: string]: Ref } }>({} as any)\n\n   const { current: state$ } = React.useRef(createState({\n      values: initialValues,\n      errors: initialErrors,\n      touched: initialTouched,\n   }))\n\n   const [state, setState] = React.useState<State<TO>>({})\n\n\n   const setValueDebounce = React.useCallback(debounce(setState, options.debounced || 300), [])\n\n   function isControlledOrDebounce() {\n      return options.isControlled || !!options.debounced\n   }\n\n   function register(path: string) {\n      const newRefs = {\n         ...refs.current,\n         [path]: React.createRef<Ref>()\n      }\n\n      refs.current = newRefs\n      return { name: path, ref: refs.current[path] }\n   }\n\n   function handleEvent(event: string) {\n      if (event === 'input') {\n         return async (e: Change) => {\n            return state$.setState(state => ({ ...state, values: dot.set(state.values, e.target.name, e.target.value) }))\n         }\n      }\n\n      return (e: Change) => {\n         return state$.setState(state => ({ ...state, touched: dot.set(state, e.target.name, true) }))\n      }\n   }\n\n   function addEvents(...args: Array<string>) {\n      Object.keys(refs.current).forEach(path => {\n         args.forEach(event => refs.current[path].current.addEventListener(event, handleEvent(event)))\n      })\n   }\n\n   function removeEvents(...args: Array<string>) {\n      Object.keys(refs.current).forEach(path => {\n         args.forEach(event => refs.current[path].current.removeEventListener(event, handleEvent(event)))\n      })\n   }\n\n   function setRefValue(path: string, value: any) {\n      refs.current[path].current.value = value || null\n   }\n\n   function makeResetAllTouchedPayload() {\n      return Object.keys(refs.current).reduce<Touched<TO>>((acc, path) => {\n         return dot.set(acc, path, dot.get(initialTouched || {}, path) || false)\n      }, {} as Touched<TO>)\n   }\n\n   function makeAllTouchedPayload() {\n      return Object.keys(refs.current).reduce<Touched<TO>>((acc, path) => {\n         return dot.set(acc, path, true)\n      }, {} as Touched<TO>)\n   }\n\n   function makeFormPayload() {\n      return Object.keys(refs.current).reduce<TO>((acc, path) => {\n         return dot.set(acc, path, refs.current[path].current.value)\n      }, {} as TO)\n   }\n\n   function onSubmit(fn: (values: TO, isValid: boolean) => void) {\n      return async (e: React.BaseSyntheticEvent) => {\n         e.preventDefault()\n         const values = makeFormPayload()\n         try {\n            await validate(values)\n            fn(values, true)\n         } catch (errors) {\n            fn(values, false)\n            state$.setState(state => ({ ...state, errors, touched: makeAllTouchedPayload() }))\n\n            if (!isControlledOrDebounce()) {\n               setState(state => ({ ...state, errors, values, touched: makeAllTouchedPayload() }))\n            }\n         }\n      }\n   }\n\n   function validate(values) {\n      return options.schemaValidation?.validate(values, { abortEarly: false })\n         .then((e) => {\n            return {}\n         })\n         .catch((e: ValidationError) => {\n            throw e.inner.reduce((acc, key) => {\n               const path = makeDotNotation(key.path)\n               return dot.set(acc, path, key.message)\n            }, {})\n         })\n   }\n\n   async function handleChange(next) {\n      try {\n         await validate(next.values)\n         if (options.isControlled) {\n            setState(next)\n         } else if (options.debounced) {\n            setValueDebounce(next)\n         }\n      } catch (errors) {\n         if (options.isControlled) {\n            setState({ ...next, errors })\n         } else if (options.debounced) {\n            setValueDebounce({ ...next, errors })\n         }\n      }\n   }\n\n   React.useEffect(() => {\n      const subscriber = state$.subscribe(handleChange)\n\n      return () => {\n         subscriber()\n      }\n   }, [])\n\n   React.useEffect(() => {\n      if (initialValues) {\n         Object.keys(refs.current).forEach(path => {\n            setRefValue(path, dot.get(initialValues, path))\n         })\n      }\n\n      addEvents('input', 'blur')\n      return () => {\n         removeEvents('input', 'blur')\n      }\n   }, [refs])\n\n   function setForm(next: State<TO> | ((state: State<TO>) => State<TO>)) {\n      const nextState = typeof next === \"function\" ? next(state) : next\n\n      state$.setState(nextState as any)\n\n      Object.keys(refs.current).forEach(path => {\n         setRefValue(path, dot.get(nextState.values, path) || dot.get(nextState.values, path))\n      })\n   }\n\n   function resetForm() {\n      Object.keys(refs.current).forEach(path => {\n         setRefValue(path, dot.get(initialValues, path) || null)\n      })\n      state$.setState({ values: initialValues, errors: initialErrors, touched: initialTouched })\n   }\n\n   function setFieldsValue(next: Partial<TO> | ((values: TO) => TO)) {\n      const nextState = typeof next === \"function\" ? next(state.values) : next\n\n      state$.setState(state => ({ ...state, values: nextState as TO }))\n\n      Object.keys(refs.current).forEach(path => {\n         setRefValue(path, dot.get(nextState, path) || dot.get(nextState, path))\n      })\n   }\n\n   function setFieldValue(path: keyof typeof initialValues, value: any) {\n      state$.setState(state => ({ ...state, values: dot.set(state.values, path as string, value) }))\n      setRefValue(path as string, value)\n   }\n\n   function resetFieldsValue() {\n      Object.keys(refs.current).forEach(path => {\n         setRefValue(path, dot.get(initialValues, path) || null)\n      })\n      state$.setState(state => ({ ...state, values: initialValues }))\n   }\n\n   function resetFieldValue(path: keyof typeof initialValues) {\n      const value = dot.get(initialValues, path as string) || undefined\n      state$.setState(state => ({ ...state, values: dot.set(state.values, path as string, value) }))\n      setRefValue(path as string, value)\n   }\n\n   function setFieldsTouched(next: Partial<Touched<TO>> | ((next: Touched<TO>) => Touched<TO>)) {\n      const nextState = typeof next === \"function\" ? next(state.touched) : next\n      state$.setState(state => ({ ...state, touched: nextState as Touched<TO> }))\n   }\n\n   function setFieldTouched(path: keyof typeof initialValues, value: boolean = true) {\n      state$.setState(state => ({ ...state, touched: dot.set(state.touched, path as string, value) }))\n   }\n\n   function resetFieldsTouched() {\n      setFieldsTouched(makeResetAllTouchedPayload())\n   }\n\n   function resetFieldTouched(path: keyof typeof initialValues) {\n      const value = dot.get(initialTouched, path as string) || false\n      state$.setState(state => ({ ...state, touched: dot.set(state.touched, path as string, value) }))\n   }\n\n   function setFieldsError(next: Partial<Errors<TO>> | ((next: Errors<TO>) => Errors<TO>)) {\n      const nextState = typeof next === \"function\" ? next(state.errors) : next\n      state$.setState(state => ({ ...state, errors: nextState as Errors<TO> }))\n   }\n\n   function setFieldError(path: keyof typeof initialValues, value: any) {\n      state$.setState(state => ({ ...state, errors: dot.set(state.errors, path as string, value) }))\n   }\n\n   function resetFieldsError() {\n      state$.setState(state => ({ ...state, errors: initialErrors }))\n   }\n\n   function resetFieldError(path: keyof typeof initialValues) {\n      const value = dot.get(initialErrors, path as string) || false\n      state$.setState(state => ({ ...state, errors: dot.set(state.errors, path as string, value) }))\n   }\n\n\n   return {\n      register,\n      state,\n      onSubmit,\n\n      setForm,\n      resetForm,\n\n      setFieldValue,\n      setFieldsValue,\n      resetFieldValue,\n      resetFieldsValue,\n\n      setFieldsTouched,\n      setFieldTouched,\n      resetFieldsTouched,\n      resetFieldTouched,\n\n\n      setFieldError,\n      resetFieldError,\n      resetFieldsError,\n      setFieldsError,\n\n   }\n\n}\n"]}]}